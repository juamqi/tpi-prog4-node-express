<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TangoShop API - Probador de Endpoints</title>
</head>
<body>
    <h1>üõçÔ∏è TangoShop API - Probador de Endpoints</h1>
    <p>Bienvenido al sistema de pruebas de la API de TangoShop</p>
    
    <hr>
    
    <h2>üìã M√≥dulos Disponibles</h2>
    
    <h3>üîê Autenticaci√≥n (7 endpoints)</h3>
    <ul>
        <li><a href="auth.html">Ir a Autenticaci√≥n</a></li>
        <li>Registro de Revendedores</li>
        <li>Registro de Proveedores</li>
        <li>Login</li>
        <li>Logout</li>
        <li>Refresh Token</li>
        <li>Recuperar Contrase√±a</li>
        <li>Restablecer Contrase√±a</li>
    </ul>
    
    <h3>üì¶ Categor√≠as (5 endpoints)</h3>
    <ul>
        <li><a href="category.html">Ir a Categor√≠as</a></li>
        <li>Listar Categor√≠as</li>
        <li>Categor√≠as Populares</li>
        <li>Obtener Categor√≠a por ID</li>
        <li>Productos de una Categor√≠a</li>
        <li>Proveedores de una Categor√≠a</li>
    </ul>
    
    <h3>‚≠ê Favoritos (7 endpoints)</h3>
    <ul>
        <li><a href="favorite.html">Ir a Favoritos</a></li>
        <li>Agregar Favorito</li>
        <li>Listar Favoritos</li>
        <li>Favoritos por Categor√≠a</li>
        <li>Obtener Markup de Producto</li>
        <li>Configurar Markup</li>
        <li>Detalle de Favorito</li>
        <li>Eliminar Favorito</li>
    </ul>
    
    <h3>üîî Notificaciones (3 endpoints)</h3>
    <ul>
        <li><a href="notification.html">Ir a Notificaciones</a></li>
        <li>Obtener Notificaciones</li>
        <li>Marcar como Le√≠da</li>
        <li>Eliminar Notificaci√≥n</li>
    </ul>
    
    <h3>üì¶ Productos (11 endpoints)</h3>
    <ul>
        <li><a href="product.html">Ir a Productos</a></li>
        <li>Listar Productos</li>
        <li>Buscar Productos</li>
        <li>Productos Mejor Valorados</li>
        <li>Productos Recientes</li>
        <li>Productos por Proveedor</li>
        <li>Productos Relacionados</li>
        <li>Obtener Producto por ID</li>
        <li>Crear Producto</li>
        <li>Actualizar Producto</li>
        <li>Actualizar Foto de Producto</li>
        <li>Eliminar Producto</li>
    </ul>
    
    <h3>üë§ Revendedores (7 endpoints)</h3>
    <ul>
        <li><a href="reseller.html">Ir a Revendedores</a></li>
        <li>Ver Perfil</li>
        <li>Actualizar Perfil</li>
        <li>Actualizar Foto</li>
        <li>Listar Revendedores</li>
        <li>Obtener Revendedor por ID</li>
        <li>Desactivar Cuenta</li>
        <li>Estad√≠sticas Detalladas</li>
    </ul>
    
    <h3>‚≠ê Rese√±as (7 endpoints)</h3>
    <ul>
        <li><a href="review.html">Ir a Rese√±as</a></li>
        <li>Crear Rese√±a</li>
        <li>Rese√±as de un Producto</li>
        <li>Mis Rese√±as</li>
        <li>Dar Like a Rese√±a</li>
        <li>Obtener Rese√±a por ID</li>
        <li>Actualizar Rese√±a</li>
        <li>Eliminar Rese√±a</li>
    </ul>
    
    <h3>üîç B√∫squedas (5 endpoints)</h3>
    <ul>
        <li><a href="search.html">Ir a B√∫squedas</a></li>
        <li>B√∫squeda Avanzada</li>
        <li>Obtener Filtros</li>
        <li>Productos Relacionados</li>
        <li>Productos por Proveedor</li>
        <li>Proveedores Favoritos</li>
    </ul>
    
    <h3>üè¢ Proveedores (10 endpoints)</h3>
    <ul>
        <li><a href="supplier.html">Ir a Proveedores</a></li>
        <li>Ver Perfil</li>
        <li>Actualizar Perfil</li>
        <li>Actualizar Foto</li>
        <li>Listar Proveedores</li>
        <li>Favoritos de un Producto</li>
        <li>Obtener Proveedor por ID</li>
        <li>Productos del Proveedor</li>
        <li>Estad√≠sticas del Proveedor</li>
        <li>Rese√±as del Proveedor</li>
        <li>Revendedores del Proveedor</li>
    </ul>
    
    <hr>
    
    <h2>üìù Informaci√≥n de Tokens</h2>
    <p><strong>Token de Revendedor almacenado:</strong> <span id="reseller-token-status">No hay token</span></p>
    <p><strong>Token de Proveedor almacenado:</strong> <span id="supplier-token-status">No hay token</span></p>
    
    <button onclick="clearTokens()">üóëÔ∏è Limpiar Tokens</button>
    
    <hr>
    
    <h2>üåê Configuraci√≥n</h2>
    <p><strong>URL Base:</strong> http://localhost:3000</p>
    <p><strong>Estado de la API:</strong> <span id="api-status">Verificando...</span></p>
    <button onclick="checkAPIStatus()">üîÑ Verificar Estado</button>
    
    <hr>
    
    <h2>üìä Total de Endpoints: 62</h2>
    
    <script>
        const BASE_URL = 'http://localhost:3000';
        
        function updateTokenStatus() {
            const resellerToken = localStorage.getItem('RESELLER_TOKEN');
            const supplierToken = localStorage.getItem('SUPPLIER_TOKEN');
            
            document.getElementById('reseller-token-status').textContent = 
                resellerToken ? '‚úÖ Token presente' : '‚ùå No hay token';
            document.getElementById('supplier-token-status').textContent = 
                supplierToken ? '‚úÖ Token presente' : '‚ùå No hay token';
        }
        
        function clearTokens() {
            if (confirm('¬øEst√°s seguro de que quieres limpiar todos los tokens?')) {
                localStorage.removeItem('RESELLER_TOKEN');
                localStorage.removeItem('SUPPLIER_TOKEN');
                localStorage.removeItem('REFRESH_TOKEN');
                updateTokenStatus();
                alert('‚úÖ Tokens limpiados exitosamente');
            }
        }
        
        async function checkAPIStatus() {
            document.getElementById('api-status').textContent = 'Verificando...';
            try {
                const response = await fetch(`${BASE_URL}/`);
                const data = await response.json();
                document.getElementById('api-status').textContent = 
                    `‚úÖ ${data.status} - v${data.version}`;
            } catch (error) {
                document.getElementById('api-status').textContent = 
                    '‚ùå Error: ' + error.message;
            }
        }
        
        updateTokenStatus();
        checkAPIStatus();
    </script>
</body>
</html>